{
  "query": "\n-- User companion settings table\nCREATE TABLE IF NOT EXISTS user_companion_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL UNIQUE,\n  watchModeEnabled BOOLEAN DEFAULT FALSE NOT NULL,\n  defaultConversationMode ENUM('consultation', 'daily_sharing') DEFAULT 'consultation' NOT NULL,\n  calendarNotificationsEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  anniversaryNotificationsEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  preferredOracleForNotifications VARCHAR(50),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- User anniversaries table\nCREATE TABLE IF NOT EXISTS user_anniversaries (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  name VARCHAR(100) NOT NULL,\n  month INT NOT NULL,\n  day INT NOT NULL,\n  year INT,\n  category ENUM('love', 'work', 'family', 'health', 'personal', 'other') DEFAULT 'personal' NOT NULL,\n  notificationEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  reminderDaysBefore INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Calendar events table\nCREATE TABLE IF NOT EXISTS calendar_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  nameEn VARCHAR(100),\n  eventType ENUM('seasonal', 'lunar', 'solar', 'traditional', 'special') NOT NULL,\n  month INT NOT NULL,\n  day INT NOT NULL,\n  year INT,\n  isRecurring BOOLEAN DEFAULT TRUE NOT NULL,\n  significance TEXT,\n  messageTemplate TEXT,\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- User-Oracle intimacy table\nCREATE TABLE IF NOT EXISTS user_oracle_intimacy (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  oracleId VARCHAR(50) NOT NULL,\n  level INT DEFAULT 1 NOT NULL,\n  experiencePoints INT DEFAULT 0 NOT NULL,\n  pointsToNextLevel INT DEFAULT 100 NOT NULL,\n  totalConversations INT DEFAULT 0 NOT NULL,\n  totalMessages INT DEFAULT 0 NOT NULL,\n  currentStreak INT DEFAULT 0 NOT NULL,\n  longestStreak INT DEFAULT 0 NOT NULL,\n  lastInteractionDate DATE,\n  unlockedFeatures TEXT,\n  firstInteractionAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  UNIQUE KEY unique_user_oracle (userId, oracleId)\n);\n\n-- Intimacy rewards table\nCREATE TABLE IF NOT EXISTS intimacy_rewards (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  requiredLevel INT NOT NULL,\n  rewardType ENUM('title', 'image_style', 'special_greeting', 'exclusive_advice', 'anniversary_message', 'custom_avatar') NOT NULL,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  rewardData TEXT,\n  oracleId VARCHAR(50),\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Daily logins table\nCREATE TABLE IF NOT EXISTS daily_logins (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  loginDate DATE NOT NULL,\n  bonusPointsEarned INT DEFAULT 10 NOT NULL,\n  streakMultiplier INT DEFAULT 100 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  UNIQUE KEY unique_user_date (userId, loginDate)\n);\n",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway03.us-east-1.prod.aws.tidbcloud.com --port 4000 --user XDDKssvc1D2yUWV.0654eaeb7844 --database kufGYAjS8ccnWNwUa3NpZF --execute \n-- User companion settings table\nCREATE TABLE IF NOT EXISTS user_companion_settings (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL UNIQUE,\n  watchModeEnabled BOOLEAN DEFAULT FALSE NOT NULL,\n  defaultConversationMode ENUM('consultation', 'daily_sharing') DEFAULT 'consultation' NOT NULL,\n  calendarNotificationsEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  anniversaryNotificationsEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  preferredOracleForNotifications VARCHAR(50),\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- User anniversaries table\nCREATE TABLE IF NOT EXISTS user_anniversaries (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  name VARCHAR(100) NOT NULL,\n  month INT NOT NULL,\n  day INT NOT NULL,\n  year INT,\n  category ENUM('love', 'work', 'family', 'health', 'personal', 'other') DEFAULT 'personal' NOT NULL,\n  notificationEnabled BOOLEAN DEFAULT TRUE NOT NULL,\n  reminderDaysBefore INT DEFAULT 0 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Calendar events table\nCREATE TABLE IF NOT EXISTS calendar_events (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  name VARCHAR(100) NOT NULL,\n  nameEn VARCHAR(100),\n  eventType ENUM('seasonal', 'lunar', 'solar', 'traditional', 'special') NOT NULL,\n  month INT NOT NULL,\n  day INT NOT NULL,\n  year INT,\n  isRecurring BOOLEAN DEFAULT TRUE NOT NULL,\n  significance TEXT,\n  messageTemplate TEXT,\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- User-Oracle intimacy table\nCREATE TABLE IF NOT EXISTS user_oracle_intimacy (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  oracleId VARCHAR(50) NOT NULL,\n  level INT DEFAULT 1 NOT NULL,\n  experiencePoints INT DEFAULT 0 NOT NULL,\n  pointsToNextLevel INT DEFAULT 100 NOT NULL,\n  totalConversations INT DEFAULT 0 NOT NULL,\n  totalMessages INT DEFAULT 0 NOT NULL,\n  currentStreak INT DEFAULT 0 NOT NULL,\n  longestStreak INT DEFAULT 0 NOT NULL,\n  lastInteractionDate DATE,\n  unlockedFeatures TEXT,\n  firstInteractionAt TIMESTAMP,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  updatedAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP NOT NULL,\n  UNIQUE KEY unique_user_oracle (userId, oracleId)\n);\n\n-- Intimacy rewards table\nCREATE TABLE IF NOT EXISTS intimacy_rewards (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  requiredLevel INT NOT NULL,\n  rewardType ENUM('title', 'image_style', 'special_greeting', 'exclusive_advice', 'anniversary_message', 'custom_avatar') NOT NULL,\n  name VARCHAR(100) NOT NULL,\n  description TEXT,\n  rewardData TEXT,\n  oracleId VARCHAR(50),\n  isActive BOOLEAN DEFAULT TRUE NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL\n);\n\n-- Daily logins table\nCREATE TABLE IF NOT EXISTS daily_logins (\n  id INT AUTO_INCREMENT PRIMARY KEY,\n  userId INT NOT NULL,\n  loginDate DATE NOT NULL,\n  bonusPointsEarned INT DEFAULT 10 NOT NULL,\n  streakMultiplier INT DEFAULT 100 NOT NULL,\n  createdAt TIMESTAMP DEFAULT CURRENT_TIMESTAMP NOT NULL,\n  UNIQUE KEY unique_user_date (userId, loginDate)\n);\n",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 5972
}